<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="show_location">
      
    </div>
    <script>
      let showEl = document.getElementById('show_location')
      getLocation()
      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition,showError) 
        }else {
          showEl.innerHTML = "该浏览器不支持定位"
        }
      }
      function showPosition(position) {
        console.log('getPosition', position)
        showEl.innerHTML = `纬度：${position.coords.latitude}；<br/>经度：${position.coords.longitude}。`
      }
      function showError(error) {
        switch (error.code) {
          case error.PERMISSION_DENIED:
          showEl.innerHTML = "用户拒绝对获取地理位置的请求。";
            break;
          case error.POSITION_UNAVAILABLE:
          showEl.innerHTML = "位置信息是不可用的。";
            break;
          case error.TIMEOUT:
          showEl.innerHTML = "请求用户地理位置超时。";
            break;
          case error.UNKNOWN_ERROR:
          showEl.innerHTML = "未知错误。";
            break;
        }
      }

      function createWebSocket() {
        // const socket = new WebSocket()
      }
    </script>
  </body>
</html>
